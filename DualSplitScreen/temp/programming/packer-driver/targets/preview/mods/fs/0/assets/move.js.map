{"version":3,"sources":["file:///F:/DualSplitScreen-2d-demo-3.0.0/DualSplitScreen/assets/move.ts"],"names":["_decorator","Component","Node","systemEvent","SystemEventType","macro","ccclass","property","Move","onLoad","on","KEY_DOWN","onKeyDown","KEY_UP","onKeyUp","onDestroy","off","event","posMan","man","getPosition","posWoman","woman","keyCode","KEY","a","setPosition","x","y","z","fixPosition","d","w","s","left","right","up","down","player","direct","pos","LIMIT_LEFT","LIMIT_RIGHT","LIMIT_TOP","LIMIT_BOTTOM"],"mappings":"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","sourcesContent":["\nimport { _decorator, Component, Node, systemEvent, SystemEventType, EventKeyboard, macro } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('Move')\nexport class Move extends Component {\n\n    @property(Node)\n    man! : Node;\n\n    @property(Node)\n    woman! : Node;\n\n    LIMIT_TOP : number = 260;\n    LIMIT_BOTTOM : number = -260;\n    LIMIT_LEFT : number = -200;\n    LIMIT_RIGHT : number = 200;\n\n    onLoad () {\n        systemEvent.on(SystemEventType.KEY_DOWN, this.onKeyDown, this);\n        systemEvent.on(SystemEventType.KEY_UP, this.onKeyUp, this);\n    }\n\n    onDestroy () {\n        systemEvent.off(SystemEventType.KEY_DOWN, this.onKeyDown, this);\n        systemEvent.off(SystemEventType.KEY_UP, this.onKeyUp, this);\n    }\n\n    onKeyDown (event: EventKeyboard) {\n\n    }\n\n    onKeyUp (event: EventKeyboard) {\n        let posMan = this.man.getPosition();\n        let posWoman = this.woman.getPosition();\n        switch(event.keyCode) {\n            case macro.KEY.a:\n                this.man.setPosition(posMan.x - 10, posMan.y, posMan.z);\n                this.fixPosition(this.man, 0);\n                break;\n            case macro.KEY.d:\n                this.man.setPosition(posMan.x + 10, posMan.y, posMan.z);\n                this.fixPosition(this.man, 1);\n                break;\n            case macro.KEY.w:\n                this.man.setPosition(posMan.x, posMan.y + 10, posMan.z);\n                this.fixPosition(this.man, 2);\n                break;\n            case macro.KEY.s:\n                this.man.setPosition(posMan.x, posMan.y - 10, posMan.z);\n                this.fixPosition(this.man, 3);\n                break;\n            case macro.KEY.left:\n                this.woman.setPosition(posWoman.x - 10, posWoman.y, posWoman.z);\n                this.fixPosition(this.woman, 0);\n                break;\n            case macro.KEY.right:\n                this.woman.setPosition(posWoman.x + 10, posWoman.y, posWoman.z);\n                this.fixPosition(this.woman, 1);\n                break;\n            case macro.KEY.up:\n                this.woman.setPosition(posWoman.x, posWoman.y + 10, posWoman.z);\n                this.fixPosition(this.woman, 2);\n                break;\n            case macro.KEY.down:\n                this.woman.setPosition(posWoman.x, posWoman.y - 10, posWoman.z);\n                this.fixPosition(this.woman, 3);\n                break;\n        }\n    }\n\n    fixPosition (player: any, direct: number) {\n        let pos = player.getPosition();\n        switch(direct){\n            case 0:\n                if (pos.x <= this.LIMIT_LEFT) \n                    pos.x = this.LIMIT_LEFT;\n                break;\n            case 1:\n                if (pos.x >= this.LIMIT_RIGHT) \n                    pos.x = this.LIMIT_RIGHT;\n                break;\n            case 2:\n                if (pos.y >= this.LIMIT_TOP) \n                    pos.y = this.LIMIT_TOP;\n                break;\n            case 3:\n                if (pos.y <= this.LIMIT_BOTTOM) \n                    pos.y = this.LIMIT_BOTTOM;\n                break;\n        }\n        player.setPosition(pos);\n    }\n}\n\n/**\n * [1] Class member could be defined like this.\n * [2] Use `property` decorator if your want the member to be serializable.\n * [3] Your initialization goes here.\n * [4] Your update function goes here.\n *\n * Learn more about scripting: https://docs.cocos.com/creator/3.0/manual/en/scripting/\n * Learn more about CCClass: https://docs.cocos.com/creator/3.0/manual/en/scripting/ccclass.html\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.0/manual/en/scripting/life-cycle-callbacks.html\n */\n"]}